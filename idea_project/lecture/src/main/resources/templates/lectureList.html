<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.springframework.org/schema/data/jaxb">
<head>
    <meta charset="UTF-8">
    <title>Lecture List</title>
</head>
<body>
<div>
    <a href="#", th:href="@{/allLecture}">back</a>
    <h2>Lecture List</h2>


    <div id="chart">
    </div>

    <script src="http://d3js.org/d3.v3.min.js"></script>
    <!--<script src="../static/scripts/pie.js"></script>-->

    <!--<script th:inline="javascript">-->

        <!--var width = 400;-->
        <!--var height = 400;-->
        <!--var dataset = [[${depatmentCount}]];-->

        <!--var svg = d3.select("#chart")-->
            <!--.append("svg")-->
            <!--.attr("width", width)-->
            <!--.attr("height", height);-->

        <!--var pie = d3.layout.pie();-->

        <!--var piedata = pie(dataset);-->

        <!--var outerRadius = 150;  //外半径-->
        <!--var innerRadius = 0;    //内半径，为0则中间没有空白-->

        <!--var arc = d3.svg.arc()  //弧生成器-->
            <!--.innerRadius(innerRadius)   //设置内半径-->
            <!--.outerRadius(outerRadius);  //设置外半径-->

        <!--var color = d3.scale.category10();-->

        <!--var arcs = svg.selectAll("g")-->
            <!--.data(piedata)-->
            <!--.enter()-->
            <!--.append("g")-->
            <!--.attr("transform","translate("+ (width/2) +","+ (width/2) +")");-->

        <!--arcs.append("path")-->
            <!--.attr("fill",function(d,i){-->
                <!--return color(i);-->
            <!--})-->
            <!--.attr("d",function(d){-->
                <!--return arc(d);-->
            <!--});-->

        <!--arcs.append("text")-->
            <!--.attr("transform",function(d){-->
                <!--return "translate(" + arc.centroid(d) + ")";-->
            <!--})-->
            <!--.attr("text-anchor","middle")-->
            <!--.text(function(d){-->
                <!--return d.data;-->
            <!--});-->

        <!--console.log(dataset);-->
        <!--console.log(piedata);-->

    <!--</script>-->

    <form action="#" th:action="@{/search}"
          th:object="${lecture}" method="post">
        <label>Title:</label>
        <input type="text" name="title" th:field="*{title}" >
        <button type="submit">search</button>
    </form>

    <table>
        <thead>
        <tr>
            <th>Id</th>
            <th>Title</th>
            <th>Speaker</th>
            <th>Date</th>
            <th>Venue</th>
            <th>department</th>
            <th>Link</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="lec,iterStat:${lectureList}">
            <td th:text="${iterStat.count}"> </td>
            <td th:text="${lec.title}"> </td>
            <td th:text="${lec.speaker}"> </td>
            <td th:text="${lec.lecture_date}"> </td>
            <td th:text="${lec.venue}"> </td>
            <td th:text="${lec.department}"> </td>
            <td>
                <a th:href="${lec.link}">打开链接</a>
            </td>
        </tr>
        </tbody>
    </table>
    <p th:text="${msg}"> Here is to show message</p>
</div>
</body>
</html>